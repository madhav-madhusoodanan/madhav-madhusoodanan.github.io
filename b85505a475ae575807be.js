import"./style.css";import{Group,Scene,Mesh,FontLoader,TextGeometry,WebGLRenderer,PerspectiveCamera,Raycaster,MeshNormalMaterial,TorusGeometry,BoxGeometry,AudioLoader,AudioListener,Audio,Vector3,Vector2}from"three";import{OrbitControls}from"three/examples/jsm/controls/OrbitControls.js";const canvas=document.querySelector("canvas.webgl"),scene=new Scene,group=new Group,objectsToTouch=[],raycaster=new Raycaster;let intersects=[];const didClick=[],material=new MeshNormalMaterial,fontLoader=new FontLoader;fontLoader.load("/anurati.json",(e=>{const t=new TextGeometry("MADHAV",{font:e,size:1,height:.2,curveSegments:5,bevelEnabled:!0,bevelThickness:.03,bevelSize:.03,bevelOffset:0,bevelSegments:5}),o=new TextGeometry("MADHUSOODANAN",{font:e,size:1,height:.2,curveSegments:5,bevelEnabled:!0,bevelThickness:.03,bevelSize:.03,bevelOffset:0,bevelSegments:5});t.center(),o.center();const n=new Mesh(t,material),a=new Mesh(o,material);n.position.y=1.5,n.rotation.set(0,0,0),a.rotation.set(0,0,0),group.add(n,a);const s=new TorusGeometry(.3,.2,20,45);for(let e=0;e<40;e++){const e=new Mesh(s,material);e.position.x=30*(Math.random()-.5),e.position.y=30*(Math.random()-.5);let t=30*(Math.random()-.5);t>0?t+=5:t-=5,e.position.z=t,e.rotation.x=Math.random()*Math.PI,e.rotation.y=Math.random()*Math.PI;const o=3*Math.random();e.scale.set(o,o,o),group.add(e)}const i=new BoxGeometry(1,1,1);for(let e=0;e<10;e++){const e=new Mesh(i,material);e.position.x=30*(Math.random()-.5),e.position.y=30*(Math.random()-.5);let t=30*(Math.random()-.5);t>0?t+=5:t-=5,e.position.z=t,e.rotation.x=Math.random()*Math.PI,e.rotation.y=Math.random()*Math.PI;const o=3*Math.random();e.scale.set(o,o,o),group.add(e)}})),fontLoader.load("/blanka.json",(e=>{const t=new TextGeometry("Find the skills on this page",{font:e,size:.4,height:.2,curveSegments:5,bevelEnabled:!0,bevelThickness:.03,bevelSize:.03,bevelOffset:0,bevelSegments:5});t.center();const o=new Mesh(t,material);o.position.y=-1.2,o.rotation.set(0,0,0),objectsToTouch.push(o),group.add(o)})),fontLoader.load("/blanka.json",(e=>{const t=new TextGeometry("  MERN\n     Stack\ndeveloper",{font:e,size:.4,height:.2,curveSegments:5,bevelEnabled:!0,bevelThickness:.03,bevelSize:.03,bevelOffset:0,bevelSegments:5});t.center();const o=new Mesh(t,material);o.position.x=5+10*(Math.random()-.5);let n=10*(Math.random()-.5);n>0?n=-n-4:n-=4,o.position.y=n;let a=10*(Math.random()-.5);a>0?a=-a-5:a-=5,o.position.z=a,o.rotation.x=Math.random()*Math.PI,o.rotation.y=Math.random()*Math.PI,o.lookAt(new Vector3(0,0,0));const s=1+2*Math.random();o.scale.set(s,s,s),objectsToTouch.push(o),group.add(o)})),fontLoader.load("/blanka.json",(e=>{const t=new TextGeometry("  React\n     native\ndeveloper",{font:e,size:.4,height:.2,curveSegments:5,bevelEnabled:!0,bevelThickness:.03,bevelSize:.03,bevelOffset:0,bevelSegments:5});t.center();const o=new Mesh(t,material);o.position.x=5+10*(Math.random()-.5);let n=10*(Math.random()-.5);n>0?n+=5:n=5-n,o.position.z=n;let a=10*(Math.random()-.5);a>0?a=-a-5:a-=5,o.position.y=a,o.rotation.x=Math.random()*Math.PI,o.rotation.y=Math.random()*Math.PI,o.lookAt(new Vector3(0,0,0));const s=1+2*Math.random();o.scale.set(s,s,s),objectsToTouch.push(o),group.add(o)})),fontLoader.load("/blanka.json",(e=>{const t=new TextGeometry("Blockchain\nresearcher",{font:e,size:.4,height:.2,curveSegments:5,bevelEnabled:!0,bevelThickness:.03,bevelSize:.03,bevelOffset:0,bevelSegments:5});t.center();const o=new Mesh(t,material);o.position.x=5+10*(Math.random()-.5);let n=10*(Math.random()-.5);n>0?n+=10:n=10-n;let a=10*(Math.random()-.5);a>0?a+=5:a=5-a,o.position.y=a,o.position.z=n,o.rotation.x=Math.random()*Math.PI,o.rotation.y=Math.random()*Math.PI,o.lookAt(new Vector3(0,0,0));const s=1+2*Math.random();o.scale.set(s,s,s),objectsToTouch.push(o),group.add(o)})),fontLoader.load("/blanka.json",(e=>{const t=new TextGeometry("  Web 3.0\ndeveloper",{font:e,size:.4,height:.2,curveSegments:5,bevelEnabled:!0,bevelThickness:.03,bevelSize:.03,bevelOffset:0,bevelSegments:5});t.center();const o=new Mesh(t,material);o.position.x=5+10*(Math.random()-.5);let n=10*(Math.random()-.5);n>0?n=-n-6:n-=6;let a=10*(Math.random()-.5);a>0?a+=4:a=4-a,o.position.y=a,o.position.z=n,o.rotation.x=Math.random()*Math.PI,o.rotation.y=Math.random()*Math.PI,o.lookAt(new Vector3(0,0,0));const s=1+2*Math.random();o.scale.set(s,s,s),objectsToTouch.push(o),group.add(o)}));const sizes={width:window.innerWidth,height:window.innerHeight},mouse=new Vector2;scene.add(group);const camera=new PerspectiveCamera(50,sizes.width/sizes.height,.1,100);camera.position.x=0,camera.position.y=0,sizes.width/sizes.height<.875?(camera.position.z=20,group.rotation.z=-Math.PI/2):(camera.position.z=12,group.rotation.z=0),scene.add(camera);const controls=new OrbitControls(camera,canvas);controls.enableDamping=!0,controls.maxDistance=30;const listener=new AudioListener;camera.add(listener);const sound=new Audio(listener),audioLoader=new AudioLoader;audioLoader.load("/stay.ogg",(e=>{sound.setBuffer(e),sound.setLoop(!0),sound.setVolume(1),sound.play()}));const renderer=new WebGLRenderer({canvas,antialias:!0});renderer.setSize(sizes.width,sizes.height),renderer.setPixelRatio(Math.min(window.devicePixelRatio,2)),window.addEventListener("resize",(()=>{sizes.width=window.innerWidth,sizes.height=window.innerHeight,sizes.width/sizes.height<.875?(camera.position.z=20,group.rotation.z=-Math.PI/2):(camera.position.z=12,group.rotation.z=0),camera.aspect=sizes.width/sizes.height,renderer.setSize(sizes.width,sizes.height),camera.updateProjectionMatrix(),renderer.setPixelRatio(Math.min(window.devicePixelRatio,2))})),sizes.width/sizes.height<.875&&(camera.position.z=20,group.rotation.z=-Math.PI/2),window.addEventListener("mousemove",(e=>{mouse.x=e.clientX/sizes.width*2-1,mouse.y=-e.clientY/sizes.height*2+1})),window.addEventListener("click",(()=>{intersects.forEach(((e,t)=>didClick[t]=didClick[t]||e.length)),console.log(didClick),didClick.reduce(((e,t)=>e+Math.min(t,1)))==didClick.length&&console.log("WOOOOOOOOOOO")}));const tick=()=>{raycaster.setFromCamera(mouse,camera),intersects=objectsToTouch.map((e=>raycaster.intersectObject(e))),controls.update(),renderer.render(scene,camera),window.requestAnimationFrame(tick)};tick();